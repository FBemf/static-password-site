<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script src="./sjcl.js" type="text/javascript"></script>
    <script type="text/javascript">
      hash = function (plaintext) {
        let out = sjcl.hash.sha256.hash(plaintext);
        let result = sjcl.codec.hex.fromBits(out);
        return result;
      }
      window.onload = function () {
        let passwordBox = document.getElementById("password");
        let submitButton = document.getElementById("submit");
        passwordBox.addEventListener("keyup", (event) => {
          if (event.keyCode === 13) {
            event.preventDefault();
            submitButton.click();
          }
        });
        submitButton.addEventListener("click", (event) => {
          event.preventDefault();
          window.location.assign(hash(passwordBox.value));
        });
      }
    </script>
    <style type="text/css">
      body{
        margin:40px auto;
        max-width:650px;
        line-height:1.6;
        font-size:18px;
        color:#444;
        padding:0 10px;
      }
      h1, h2, h3 {
        line-height:1.2;
      }
    </style>
  </head>
  <body>
    <h1>Access Restricted</h1>
    <p>Please enter the password below.</p>
    <input type="password" id="password">
    <button id="submit">Submit</button>
  </body>
</html>
